<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<title>QUnit Test Suite</title>
	<link rel="stylesheet" href="qunit/qunit.css" type="text/css" media="screen">
	<script type="text/javascript" src="qunit/qunit.js"></script>
	<script src="../build/toxiclibs.js"></script>
</head>
<body>
	<h1 id="qunit-header">QUnit Test Suite</h1>
	<h2 id="qunit-banner"></h2>
	<div id="qunit-testrunner-toolbar"></div>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
	<div id="qunit-fixture">test markup</div>
	<script type="text/javascript">
	
	var Vec2D = toxi.geom.Vec2D,
		Circle = toxi.geom.Circle,
		Rect = toxi.geom.Rect,
		Triangle2D = toxi.geom.Triangle2D;
	var getTriangle2D = function(){
		var a = new Vec2D(0,0),
			b = new Vec2D(0.5,1),
			c = new Vec2D(1,0);
		return  new Triangle2D(a,b,c);
	};

	module("Constructions of Triangle2D");
	test("Construct Triangle2D, no params",function(){
		var t1 = new Triangle2D();
		ok(t1 !== undefined,"Triangle2D constructed, no params");		
	});

	var a = new Vec2D(0,0),
		b = new Vec2D(0.5,1),
		c = new Vec2D(1,0);
	var t2 = new Triangle2D(a,b,c);
	test("Construct Triangle2D, w/ points",function(){
		ok(t2 !== undefined,"Triangle2D constructed, with params");
		same(a,t2.a,"Triangle2D.a == a");
		same(b,t2.b,"Triangle2D.b == b");
		same(c,t2.c,"Triangle2D.c == c");
	});
	
	module("statics");
	var t4 = Triangle2D.createEquilateralFrom(a,b);
	test("static createEquilateralFrom",function(){
		ok(t4.c !== undefined,"3rd point successfully calculated: "+t4.c);
	});
	
	test("static isClockwise",function(){
		ok(Triangle2D.isClockwise(a,b,t4.c),"isClockwise");
	});
	
	module("public methods");
	test("adjustTriangleSizeBy, and computeCentroid",function(){
		var t5 = t2.copy().adjustTriangleSizeBy(100);
		ok(t5 !== undefined,"adjusted Triangle size, 1 param");
		var t6 = t5.copy().adjustTriangleSizeBy(100,125,150);
		ok(t6 !== undefined,"adjust Triangle size with 3  params");
	});
	test("containsPoint",function(){
		ok(!t2.containsPoint(t2.b),"testing with its own point, should be false, presumable because it is not inside the triangle");
		ok(t2.containsPoint(a.add(0.25,0.25)),"contains an arbitrary point within");
		ok(!t2.containsPoint(new Vec2D(100,1000)),"does not contain this point outside of itself");
	});
	test("Copy last Triangle2D, same",function(){
		var t3 = t2.copy();
		same(t2,t3,"copied Triangle2D is the same");
	});
	test("flipVertexOrder",function(){
		var fvot = t2.copy();
		same(fvot.a,fvot.flipVertexOrder().c,"vertices flipped correctly");
	});
	test("getArea",function(){
		var t = getTriangle2D();
		var nt = t.adjustTriangleSizeBy(100);
		console.log(nt.getArea());
		ok(!isNaN(nt.getArea()), "returned correct type");
	});
	
	test("getBounds",function(){
		var bounds = t2.copy().getBounds();
		ok(bounds instanceof Rect,"bounds returned a rect");
		ok(bounds.getArea() > 0,"bounds was accurate");
	});
	
	test("getCircumCircle",function(){
		var circle = getTriangle2D().getCircumCircle();
		ok(circle instanceof Circle && circle.getRadius() > 0,"returned a circle");
	});
	
	test("getCircumference",function(){
		var circumference = t2.copy().getCircumference();
		ok(circumference > 0, "return circumference: "+circumference);
	});
	
	test("getClosestPointTo",function(){
		var _p = new Vec2D(1,1);
		var closest = t2.getClosestPointTo(_p);
		ok(closest !== undefined && closest instanceof Vec2D,"closest returned");
	});
	
	test("intersectsTriangle",function(){
		var newTri = Triangle2D.createEquilateralFrom(new Vec2D(-0.5,-0.5),new Vec2D(2,2));
		ok(t2.intersectsTriangle(newTri),"does intersect Triangle");
		var newTri2 = Triangle2D.createEquilateralFrom(new Vec2D(-100,-100), new Vec2D(-90,-90));
		ok(!t2.intersectsTriangle(newTri2),"does not intersect this triangle");
	});
	test("isClockwise",function(){
		ok(t2.isClockwise(),"isClockwise");
	});
	test("toPolygon2D",function(){
		var t = getTriangle2D();
		var p = t.toPolygon2D();
		ok(p.vertices.length == 3, "created Polygon2D");
	});
	
	</script>
</body>
</html>
